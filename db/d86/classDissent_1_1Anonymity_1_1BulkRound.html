<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Dissent: Dissent::Anonymity::BulkRound Class Reference</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Dissent
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>Dissent</b>      </li>
      <li class="navelem"><b>Anonymity</b>      </li>
      <li class="navelem"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html">BulkRound</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Dissent::Anonymity::BulkRound Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Dissent::Anonymity::BulkRound" --><!-- doxytag: inherits="Dissent::Anonymity::Round" -->
<p>Represents a single instance of a cryptographically secure anonymous exchange.  
 <a href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/d3f/BulkRound_8hpp_source.html">BulkRound.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Dissent::Anonymity::BulkRound:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.png" usemap="#Dissent::Anonymity::BulkRound_map" alt=""/>
  <map id="Dissent::Anonymity::BulkRound_map" name="Dissent::Anonymity::BulkRound_map">
<area href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html" title="Represents a single instance of a cryptographically secure anonymous exchange." alt="Dissent::Anonymity::Round" shape="rect" coords="456,56,750,80"/>
<area href="../../d4/d95/classDissent_1_1Utils_1_1StartStop.html" title="A thin class to encapsulate the common start / stop pattern." alt="Dissent::Utils::StartStop" shape="rect" coords="152,0,446,24"/>
<area href="../../d7/d32/classDissent_1_1Messaging_1_1Source.html" title="Produces data to be received by a sink." alt="Dissent::Messaging::Source" shape="rect" coords="456,0,750,24"/>
<area href="../../d9/d03/classDissent_1_1Messaging_1_1ISender.html" title="Derivatives should implement a block-free Send." alt="Dissent::Messaging::ISender" shape="rect" coords="760,0,1054,24"/>
<area href="../../d4/d24/classDissent_1_1Tests_1_1BulkRoundBadDescriptor.html" alt="Dissent::Tests::BulkRoundBadDescriptor" shape="rect" coords="0,168,294,192"/>
<area href="../../de/dce/classDissent_1_1Tests_1_1BulkRoundBadXorMessage.html" alt="Dissent::Tests::BulkRoundBadXorMessage" shape="rect" coords="304,168,598,192"/>
<area href="../../d3/d88/classDissent_1_1Tests_1_1BulkRoundFalseAccusation.html" alt="Dissent::Tests::BulkRoundFalseAccusation" shape="rect" coords="608,168,902,192"/>
<area href="../../d6/d2c/classDissent_1_1Tests_1_1BulkRoundIncorrectMessageLength.html" alt="Dissent::Tests::BulkRoundIncorrectMessageLength" shape="rect" coords="912,168,1206,192"/>
</map>
 </div></div>

<p><a href="../../d3/d1d/classDissent_1_1Anonymity_1_1BulkRound-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a5f43dc0a1c430f0cfa8218acf55f6ae9">State</a> { <b>Offline</b>, 
<b>Shuffling</b>, 
<b>DataSharing</b>, 
<b>Finished</b>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Varius stages of the bulk. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a68d53f133ce98f4f7036d2703fedbbd5">MessageType</a> { <b>BulkData</b>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Various message types sent and received. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac362b79b934f1f24ab051b3d7aa15bc7"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::DiffieHellman" ref="ac362b79b934f1f24ab051b3d7aa15bc7" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="../../d7/d61/classDissent_1_1Crypto_1_1DiffieHellman.html">Dissent::Crypto::DiffieHellman</a>&#160;</td><td class="memItemRight" valign="bottom"><b>DiffieHellman</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab47988be9e47401bf5aa51f11cd60f91"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::BufferSink" ref="ab47988be9e47401bf5aa51f11cd60f91" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="../../dc/d2c/classDissent_1_1Messaging_1_1BufferSink.html">Dissent::Messaging::BufferSink</a>&#160;</td><td class="memItemRight" valign="bottom"><b>BufferSink</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7aeb04d6ed41dabf416b415ed39b649"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::BulkGetDataCallback" ref="ad7aeb04d6ed41dabf416b415ed39b649" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="../../d0/da8/classDissent_1_1Messaging_1_1GetDataMethod.html">Dissent::Messaging::GetDataMethod</a><br class="typebreak"/>
&lt; <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html">BulkRound</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>BulkGetDataCallback</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55bd187997018e89821caddbc534bcc1"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::Descriptor" ref="a55bd187997018e89821caddbc534bcc1" args="" -->
typedef <a class="el" href="../../d8/d17/structDissent_1_1Utils_1_1Triple.html">Dissent::Utils::Triple</a><br class="typebreak"/>
&lt; int, QByteArray, QVector<br class="typebreak"/>
&lt; QByteArray &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Descriptor</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae73d81d45d4eef19636a3df490d68fcb"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::BadHash" ref="ae73d81d45d4eef19636a3df490d68fcb" args="" -->
typedef QPair&lt; int, <a class="el" href="../../d8/d17/structDissent_1_1Utils_1_1Triple.html">Descriptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>BadHash</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a93eac544c717bf2733490b433f1127af">BulkRound</a> (const <a class="el" href="../../d4/d0d/classDissent_1_1Anonymity_1_1Group.html">Group</a> &amp;group, const <a class="el" href="../../d5/d96/classDissent_1_1Anonymity_1_1Credentials.html">Credentials</a> &amp;creds, const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;round_id, QSharedPointer&lt; <a class="el" href="../../db/d5e/classDissent_1_1Connections_1_1Network.html">Network</a> &gt; network, <a class="el" href="../../d1/d0c/classDissent_1_1Messaging_1_1GetDataCallback.html">GetDataCallback</a> &amp;get_data, CreateRound create_shuffle=&amp;TCreateRound&lt; <a class="el" href="../../df/d28/classDissent_1_1Anonymity_1_1ShuffleRound.html">ShuffleRound</a> &gt;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a93eac544c717bf2733490b433f1127af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cfc9e8c37aabcda8fb7aa5db616578b"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::~BulkRound" ref="a2cfc9e8c37aabcda8fb7aa5db616578b" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a2cfc9e8c37aabcda8fb7aa5db616578b">~BulkRound</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfd962f2ba39384920559eb7e1ff63a8"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::Start" ref="abfd962f2ba39384920559eb7e1ff63a8" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#abfd962f2ba39384920559eb7e1ff63a8">Start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the bulk round. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a263991ccbf70b063d44af11f511ecad7">IncomingData</a> (<a class="el" href="../../d9/df6/classDissent_1_1Messaging_1_1RpcRequest.html">RpcRequest</a> &amp;notification)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a data message from a remote peer.  <a href="#a263991ccbf70b063d44af11f511ecad7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96049fe07a7281b1e49a69d9d235e72a"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GetBadMembers" ref="a96049fe07a7281b1e49a69d9d235e72a" args="() const " -->
virtual const QVector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a96049fe07a7281b1e49a69d9d235e72a">GetBadMembers</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of members who have been blamed in the round. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdabe6cd2b6af1c2d02929730cbfbbc4"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::ToString" ref="abdabe6cd2b6af1c2d02929730cbfbbc4" args="() const " -->
virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#abdabe6cd2b6af1c2d02929730cbfbbc4">ToString</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">QString rep. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adef46c1467967d3fe5f0853382446a35"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GetState" ref="adef46c1467967d3fe5f0853382446a35" args="()" -->
<a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a5f43dc0a1c430f0cfa8218acf55f6ae9">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#adef46c1467967d3fe5f0853382446a35">GetState</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal bulk state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58d8036041e4d42d11442a9a5ac718a5"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GetShuffleRound" ref="a58d8036041e4d42d11442a9a5ac718a5" args="()" -->
QSharedPointer&lt; <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html">Round</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a58d8036041e4d42d11442a9a5ac718a5">GetShuffleRound</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="../../df/d28/classDissent_1_1Anonymity_1_1ShuffleRound.html" title="Dissent&#39;s shuffling algorithm.">ShuffleRound</a> used to exchange descriptors. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#abdabd010181f8f548ad8e11a95a7bd02">StateToString</a> (<a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a5f43dc0a1c430f0cfa8218acf55f6ae9">State</a> st)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a MessageType into a QString.  <a href="#abdabd010181f8f548ad8e11a95a7bd02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a583689fb1e6cc082db2f49a578353f88">MessageTypeToString</a> (<a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a68d53f133ce98f4f7036d2703fedbbd5">MessageType</a> mt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a MessageType into a QString.  <a href="#a583689fb1e6cc082db2f49a578353f88"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#affc2c5e2f65b88714c3d9e88c14d9c44">ProcessData</a> (const QByteArray &amp;data, const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;from)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If data is from a legitimate group member, it is processed.  <a href="#affc2c5e2f65b88714c3d9e88c14d9c44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b99e50902d5046e7c9ab8997bd9300c"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::ProcessDataBase" ref="a8b99e50902d5046e7c9ab8997bd9300c" args="(const QByteArray &amp;data, const Id &amp;from)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>ProcessDataBase</b> (const QByteArray &amp;data, const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87a757eb47940e710aa7bbf46e4e8acc"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GenerateXorMessages" ref="a87a757eb47940e710aa7bbf46e4e8acc" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a87a757eb47940e710aa7bbf46e4e8acc">GenerateXorMessages</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses through all the descriptors to generate a single transmission for the bulk round, which is sent via broadcast. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a57931d4730ac557a66037d5936fef603">GenerateXorMessage</a> (const QByteArray &amp;descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses through an individual descriptor, setting the descriptor state in the object and returns the message the descriptor describes.  <a href="#a57931d4730ac557a66037d5936fef603"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae32f149c12cd8da2dca1907dc5aaf552"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GetShuffleSink" ref="ae32f149c12cd8da2dca1907dc5aaf552" args="() const " -->
const <a class="el" href="../../dc/d2c/classDissent_1_1Messaging_1_1BufferSink.html">BufferSink</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#ae32f149c12cd8da2dca1907dc5aaf552">GetShuffleSink</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ShuffleSink to access serialized descriptors. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49d4035d10f27b374dcaf39917244a8a"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GetDescriptors" ref="a49d4035d10f27b374dcaf39917244a8a" args="() const " -->
const QVector&lt; <a class="el" href="../../d8/d17/structDissent_1_1Utils_1_1Triple.html">Descriptor</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a49d4035d10f27b374dcaf39917244a8a">GetDescriptors</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the parsed descriptors. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a85a86a240d40295bea8daa948e956d74">HandleBulkData</a> (QDataStream &amp;stream, const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;from)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses and handles bulk data messages.  <a href="#a85a86a240d40295bea8daa948e956d74"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents a single instance of a cryptographically secure anonymous exchange. </p>
<p>The V1 bulk protocol consists of a shuffle round and a bulk transmission phase. The shuffle round includes an anonymous DH key and a hash for each message transmitted by other peers. The final permuted position of the DH key and hash is their position or slot in the bulk message. Using the RNG, a member generates an xor mask for the slot of the anonymous sender. If the member owns the slot, then they first calculate all others masks, xor them together, and then xor the cleartext to arrive at their mask. Each member accumulates the masks in the appropriate slot order and distributes them to all other peers. Upon accumulating all xor masks and combining them via xor operations the cleartext messages are revealed. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a93eac544c717bf2733490b433f1127af"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::BulkRound" ref="a93eac544c717bf2733490b433f1127af" args="(const Group &amp;group, const Credentials &amp;creds, const Id &amp;round_id, QSharedPointer&lt; Network &gt; network, GetDataCallback &amp;get_data, CreateRound create_shuffle=&amp;TCreateRound&lt; ShuffleRound &gt;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a93eac544c717bf2733490b433f1127af">Dissent::Anonymity::BulkRound::BulkRound</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d0d/classDissent_1_1Anonymity_1_1Group.html">Group</a> &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d96/classDissent_1_1Anonymity_1_1Credentials.html">Credentials</a> &amp;&#160;</td>
          <td class="paramname"><em>creds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>round_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="../../db/d5e/classDissent_1_1Connections_1_1Network.html">Network</a> &gt;&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d0c/classDissent_1_1Messaging_1_1GetDataCallback.html">GetDataCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>get_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CreateRound&#160;</td>
          <td class="paramname"><em>create_shuffle</em> = <code>&amp;TCreateRound&lt;<a class="el" href="../../df/d28/classDissent_1_1Anonymity_1_1ShuffleRound.html">ShuffleRound</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td><a class="el" href="../../d4/d0d/classDissent_1_1Anonymity_1_1Group.html" title="Members of an anonymity session sorted in ascending orde.">Group</a> used during this round </td></tr>
    <tr><td class="paramname">creds</td><td>the local nodes credentials </td></tr>
    <tr><td class="paramname">round_id</td><td>Unique round id (nonce) </td></tr>
    <tr><td class="paramname">network</td><td>handles message sending </td></tr>
    <tr><td class="paramname">get_data</td><td>requests data to share during this session </td></tr>
    <tr><td class="paramname">create_shuffle</td><td>optional parameter specifying a shuffle round to create, currently used for testing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a57931d4730ac557a66037d5936fef603"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::GenerateXorMessage" ref="a57931d4730ac557a66037d5936fef603" args="(const QByteArray &amp;descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a57931d4730ac557a66037d5936fef603">Dissent::Anonymity::BulkRound::GenerateXorMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses through an individual descriptor, setting the descriptor state in the object and returns the message the descriptor describes. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>message descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../de/dce/classDissent_1_1Tests_1_1BulkRoundBadXorMessage.html#a7e444e2d764185923612dc7e89be734d">Dissent::Tests::BulkRoundBadXorMessage</a>, and <a class="el" href="../../d6/d2c/classDissent_1_1Tests_1_1BulkRoundIncorrectMessageLength.html#a06eed7d877ae56574c1d5abb8fb3d662">Dissent::Tests::BulkRoundIncorrectMessageLength</a>.</p>

</div>
</div>
<a class="anchor" id="a85a86a240d40295bea8daa948e956d74"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::HandleBulkData" ref="a85a86a240d40295bea8daa948e956d74" args="(QDataStream &amp;stream, const Id &amp;from)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a85a86a240d40295bea8daa948e956d74">Dissent::Anonymity::BulkRound::HandleBulkData</a> </td>
          <td>(</td>
          <td class="paramtype">QDataStream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses and handles bulk data messages. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>serialized message </td></tr>
    <tr><td class="paramname">from</td><td>the sender </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a263991ccbf70b063d44af11f511ecad7"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::IncomingData" ref="a263991ccbf70b063d44af11f511ecad7" args="(RpcRequest &amp;notification)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a263991ccbf70b063d44af11f511ecad7">Dissent::Anonymity::BulkRound::IncomingData</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/df6/classDissent_1_1Messaging_1_1RpcRequest.html">RpcRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>notification</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle a data message from a remote peer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">notification</td><td>message from a remote peer </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html#ae15123712f139d6df092486dcbf2f365">Dissent::Anonymity::Round</a>.</p>

</div>
</div>
<a class="anchor" id="a583689fb1e6cc082db2f49a578353f88"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::MessageTypeToString" ref="a583689fb1e6cc082db2f49a578353f88" args="(MessageType mt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static QString <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a583689fb1e6cc082db2f49a578353f88">Dissent::Anonymity::BulkRound::MessageTypeToString</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a68d53f133ce98f4f7036d2703fedbbd5">MessageType</a>&#160;</td>
          <td class="paramname"><em>mt</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a MessageType into a QString. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mt</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="affc2c5e2f65b88714c3d9e88c14d9c44"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::ProcessData" ref="affc2c5e2f65b88714c3d9e88c14d9c44" args="(const QByteArray &amp;data, const Id &amp;from)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#affc2c5e2f65b88714c3d9e88c14d9c44">Dissent::Anonymity::BulkRound::ProcessData</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If data is from a legitimate group member, it is processed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Incoming data </td></tr>
    <tr><td class="paramname">id</td><td>the remote peer sending the data </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html#a161162ec07e1e8f4330a076901fb8596">Dissent::Anonymity::Round</a>.</p>

</div>
</div>
<a class="anchor" id="abdabd010181f8f548ad8e11a95a7bd02"></a><!-- doxytag: member="Dissent::Anonymity::BulkRound::StateToString" ref="abdabd010181f8f548ad8e11a95a7bd02" args="(State st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static QString <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#abdabd010181f8f548ad8e11a95a7bd02">Dissent::Anonymity::BulkRound::StateToString</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html#a5f43dc0a1c430f0cfa8218acf55f6ae9">State</a>&#160;</td>
          <td class="paramname"><em>st</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a MessageType into a QString. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mt</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Anonymity/<a class="el" href="../../dc/d3f/BulkRound_8hpp_source.html">BulkRound.hpp</a></li>
<li>src/Anonymity/BulkRound.cpp</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 28 2011 09:46:53 for Dissent by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
