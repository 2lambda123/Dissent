<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Dissent: Dissent::Anonymity::CSBulkRound Class Reference</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Dissent
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>Dissent</b>      </li>
      <li class="navelem"><b>Anonymity</b>      </li>
      <li class="navelem"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html">CSBulkRound</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">Dissent::Anonymity::CSBulkRound Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a single instance of a cryptographically secure anonymous exchange.  
 <a href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dd/d24/CSBulkRound_8hpp_source.html">CSBulkRound.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Dissent::Anonymity::CSBulkRound:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.png" usemap="#Dissent::Anonymity::CSBulkRound_map" alt=""/>
  <map id="Dissent::Anonymity::CSBulkRound_map" name="Dissent::Anonymity::CSBulkRound_map">
<area href="../../d9/df2/classDissent_1_1Anonymity_1_1BaseBulkRound.html" title="Provides the basis for DC-net exchanges setup the Dissent way: shuffle for setting up anonymous slots..." alt="Dissent::Anonymity::BaseBulkRound" shape="rect" coords="222,168,434,192"/>
<area href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html" title="An anonymous exchange amongst peers of a static group." alt="Dissent::Anonymity::Round" shape="rect" coords="222,112,434,136"/>
<area href="../../df/d34/classDissent_1_1Messaging_1_1SourceObject.html" title="Produces data to be received by a sink." alt="Dissent::Messaging::SourceObject" shape="rect" coords="0,56,212,80"/>
<area href="../../d4/d95/classDissent_1_1Utils_1_1StartStop.html" title="A thin class to encapsulate the common start / stop pattern." alt="Dissent::Utils::StartStop" shape="rect" coords="222,56,434,80"/>
<area href="../../d9/d03/classDissent_1_1Messaging_1_1ISender.html" title="Derivatives should implement a block-free Send." alt="Dissent::Messaging::ISender" shape="rect" coords="444,56,656,80"/>
<area href="../../d7/d32/classDissent_1_1Messaging_1_1Source.html" title="Produces data to be received by a sink." alt="Dissent::Messaging::Source" shape="rect" coords="0,0,212,24"/>
</map>
 </div></div>

<p><a href="../../d3/db1/classDissent_1_1Anonymity_1_1CSBulkRound-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>ServerState</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the internal state for servers in this round. <br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>State</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the internal state for this round. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1c89d4859c52f5414729aa93051a0b1e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>MessageType</b> { <br/>
&#160;&#160;<b>CLIENT_CIPHERTEXT</b> =  0, 
<b>SERVER_CLIENT_LIST</b>, 
<b>SERVER_COMMIT</b>, 
<b>SERVER_CIPHERTEXT</b>, 
<br/>
&#160;&#160;<b>SERVER_VALIDATION</b>, 
<b>SERVER_CLEARTEXT</b>
<br/>
 }</td></tr>
<tr class="memitem:ac12e4af519d6bb4f00577dc95327ec32"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>States</b> { <br/>
&#160;&#160;<b>OFFLINE</b> =  0, 
<b>SHUFFLING</b>, 
<b>PROCESS_DATA_SHUFFLE</b>, 
<b>PROCESS_KEY_SHUFFLE</b>, 
<br/>
&#160;&#160;<b>PREPARE_FOR_BULK</b>, 
<b>CLIENT_WAIT_FOR_CLEARTEXT</b>, 
<b>SERVER_WAIT_FOR_CLIENT_CIPHERTEXT</b>, 
<b>SERVER_WAIT_FOR_CLIENT_LISTS</b>, 
<br/>
&#160;&#160;<b>SERVER_WAIT_FOR_SERVER_COMMITS</b>, 
<b>SERVER_WAIT_FOR_SERVER_CIPHERTEXT</b>, 
<b>SERVER_WAIT_FOR_SERVER_VALIDATION</b>, 
<b>SERVER_PUSH_CLEARTEXT</b>, 
<br/>
&#160;&#160;<b>FINISHED</b>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7b1d428224d6deffd224e71f0595a303"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a7b1d428224d6deffd224e71f0595a303">CSBulkRound</a> (const <a class="el" href="../../d1/da7/classDissent_1_1Identity_1_1Group.html">Group</a> &amp;group, const <a class="el" href="../../dc/d54/classDissent_1_1Identity_1_1PrivateIdentity.html">PrivateIdentity</a> &amp;ident, const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;round_id, QSharedPointer&lt; <a class="el" href="../../db/d5e/classDissent_1_1Connections_1_1Network.html">Network</a> &gt; network, <a class="el" href="../../d1/d0c/classDissent_1_1Messaging_1_1GetDataCallback.html">GetDataCallback</a> &amp;get_data, CreateRound create_shuffle=&amp;TCreateRound&lt; <a class="el" href="../../df/d28/classDissent_1_1Anonymity_1_1ShuffleRound.html">ShuffleRound</a> &gt;)</td></tr>
<tr class="memdesc:a7b1d428224d6deffd224e71f0595a303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a7b1d428224d6deffd224e71f0595a303"></a><br/></td></tr>
<tr class="memitem:adead381732ee3c98e78e114f9f43e269"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adead381732ee3c98e78e114f9f43e269"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#adead381732ee3c98e78e114f9f43e269">~CSBulkRound</a> ()</td></tr>
<tr class="memdesc:adead381732ee3c98e78e114f9f43e269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="memitem:a31e5989d3ec3d590fa35a81f921cd33a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31e5989d3ec3d590fa35a81f921cd33a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a31e5989d3ec3d590fa35a81f921cd33a">IsServer</a> () const </td></tr>
<tr class="memdesc:a31e5989d3ec3d590fa35a81f921cd33a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the local node is a member of the subgroup. <br/></td></tr>
<tr class="memitem:a12b849fe6db83b343f413fc93f0f9257"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12b849fe6db83b343f413fc93f0f9257"></a>
virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a12b849fe6db83b343f413fc93f0f9257">ToString</a> () const </td></tr>
<tr class="memdesc:a12b849fe6db83b343f413fc93f0f9257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the string representation of the round. <br/></td></tr>
<tr class="memitem:ae0cfdd65d55ebd13a93c1f85e8d621d6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ae0cfdd65d55ebd13a93c1f85e8d621d6">PeerJoined</a> ()</td></tr>
<tr class="memdesc:ae0cfdd65d55ebd13a93c1f85e8d621d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies this round that a peer has joined the session.  <a href="#ae0cfdd65d55ebd13a93c1f85e8d621d6"></a><br/></td></tr>
<tr class="memitem:a2af5a7d1e455f8b6e367f10672eb2bf2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a2af5a7d1e455f8b6e367f10672eb2bf2">HandleDisconnect</a> (const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;id)</td></tr>
<tr class="memdesc:a2af5a7d1e455f8b6e367f10672eb2bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the ConnectionTable has a disconnect, the round may need to react.  <a href="#a2af5a7d1e455f8b6e367f10672eb2bf2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a56e857ff340e6ce7000bf56956e3f0da"><td class="memItemLeft" align="right" valign="top">static QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a56e857ff340e6ce7000bf56956e3f0da">StateToString</a> (int state)</td></tr>
<tr class="memdesc:a56e857ff340e6ce7000bf56956e3f0da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a MessageType into a QString.  <a href="#a56e857ff340e6ce7000bf56956e3f0da"></a><br/></td></tr>
<tr class="memitem:a0f1600c876437a05aa26a3c3bf754893"><td class="memItemLeft" align="right" valign="top">static QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a0f1600c876437a05aa26a3c3bf754893">MessageTypeToString</a> (int mtype)</td></tr>
<tr class="memdesc:a0f1600c876437a05aa26a3c3bf754893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a MessageType into a QString.  <a href="#a0f1600c876437a05aa26a3c3bf754893"></a><br/></td></tr>
<tr class="memitem:ad1f4fd6ed901923369b435bb9c13d846"><td class="memItemLeft" align="right" valign="top">static QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ad1f4fd6ed901923369b435bb9c13d846">Randomize</a> (const QByteArray &amp;msg)</td></tr>
<tr class="memdesc:ad1f4fd6ed901923369b435bb9c13d846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomize a message and prepend the seed.  <a href="#ad1f4fd6ed901923369b435bb9c13d846"></a><br/></td></tr>
<tr class="memitem:a4da0b114bbf6840803c74c9f9c5b2896"><td class="memItemLeft" align="right" valign="top">static QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a4da0b114bbf6840803c74c9f9c5b2896">Derandomize</a> (const QByteArray &amp;randomized_text)</td></tr>
<tr class="memdesc:a4da0b114bbf6840803c74c9f9c5b2896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derandomize a message with the seed prepended.  <a href="#a4da0b114bbf6840803c74c9f9c5b2896"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa18bff2a687e248bc43cfd33105eed76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa18bff2a687e248bc43cfd33105eed76"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#aa18bff2a687e248bc43cfd33105eed76">CLIENT_SUBMISSION_WINDOW</a> = 10000</td></tr>
<tr class="memdesc:aa18bff2a687e248bc43cfd33105eed76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay between the start of a round and when all clients are required to have submitted a message in order to be valid. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a38e5f7f7702d4ba8c80fc3374a3b4236"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38e5f7f7702d4ba8c80fc3374a3b4236"></a>
typedef <a class="el" href="../../de/dad/classDissent_1_1Utils_1_1Random.html">Utils::Random</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Random</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3c9e6d70306e220b8915f36da175c6da"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a3c9e6d70306e220b8915f36da175c6da">ProcessData</a> (const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;from, const QByteArray &amp;data)</td></tr>
<tr class="memdesc:a3c9e6d70306e220b8915f36da175c6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funnels data into the <a class="el" href="../../d0/d6c/classDissent_1_1Anonymity_1_1RoundStateMachine.html" title="Used as an internal mechanism to handle state logic within a Round.">RoundStateMachine</a> for evaluation.  <a href="#a3c9e6d70306e220b8915f36da175c6da"></a><br/></td></tr>
<tr class="memitem:aa860b15eb92352f720160b613f3d1543"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa860b15eb92352f720160b613f3d1543"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#aa860b15eb92352f720160b613f3d1543">OnStart</a> ()</td></tr>
<tr class="memdesc:aa860b15eb92352f720160b613f3d1543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html" title="Represents a single instance of a cryptographically secure anonymous exchange.">BulkRound</a> is started. <br/></td></tr>
<tr class="memitem:a01aa884af6dda87e873be701fad9ffb1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01aa884af6dda87e873be701fad9ffb1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a01aa884af6dda87e873be701fad9ffb1">OnStop</a> ()</td></tr>
<tr class="memdesc:a01aa884af6dda87e873be701fad9ffb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="../../db/d86/classDissent_1_1Anonymity_1_1BulkRound.html" title="Represents a single instance of a cryptographically secure anonymous exchange.">BulkRound</a> is stopped. <br/></td></tr>
<tr class="memitem:ae41172fb3da7b5be64d2cb5246111a77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ae41172fb3da7b5be64d2cb5246111a77">VerifiableBroadcastToServers</a> (const QByteArray &amp;data)</td></tr>
<tr class="memdesc:ae41172fb3da7b5be64d2cb5246111a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server sends a message to all servers.  <a href="#ae41172fb3da7b5be64d2cb5246111a77"></a><br/></td></tr>
<tr class="memitem:a899fe3b0994ff7f01c5dcd2d1f2f0516"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a899fe3b0994ff7f01c5dcd2d1f2f0516">VerifiableBroadcastToClients</a> (const QByteArray &amp;data)</td></tr>
<tr class="memdesc:a899fe3b0994ff7f01c5dcd2d1f2f0516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server sends a message to all clients.  <a href="#a899fe3b0994ff7f01c5dcd2d1f2f0516"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:abf3e4b3306bb57246d2a16ecde58874d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf3e4b3306bb57246d2a16ecde58874d"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>RoundStateMachine&lt; CSBulkRound &gt;</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents a single instance of a cryptographically secure anonymous exchange. </p>
<p>The "V3" bulk protocol builds on the "V2" by reusing the shuffle to exchange setup slot ownership and anonymous signing keys; however, the anonymous DiffieHellman keys are no longer used. The cleartext messages are of the form: seed, randomized(seed; accusation, phase, next message length, message, signature), where signature veirfies phase, next message length, and message. For peers not actively sending, they have no slot, at the beginning of every DC-net is a bit vector, which allows members to open their slot. To open a slot, a member sets the bit mapped to their anonymous index as established by the shuffle.</p>
<p>Each server has a RNG for every online client and server. If a client does not submit a ciphertext, then a server will not generate a matching XOR mask for that client. Therefore servers first collect client ciphertexts, commit to the message they will share, share the message, and then distribute the final cleartext to all clients. RNGs are reset each round to map to the shared secret between the client and server, the RoundID (or nonce), and then the current phase. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7b1d428224d6deffd224e71f0595a303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a7b1d428224d6deffd224e71f0595a303">Dissent::Anonymity::CSBulkRound::CSBulkRound</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/da7/classDissent_1_1Identity_1_1Group.html">Group</a> &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d54/classDissent_1_1Identity_1_1PrivateIdentity.html">PrivateIdentity</a> &amp;&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>round_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QSharedPointer&lt; <a class="el" href="../../db/d5e/classDissent_1_1Connections_1_1Network.html">Network</a> &gt;&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d0c/classDissent_1_1Messaging_1_1GetDataCallback.html">GetDataCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>get_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CreateRound&#160;</td>
          <td class="paramname"><em>create_shuffle</em> = <code>&amp;TCreateRound&lt;<a class="el" href="../../df/d28/classDissent_1_1Anonymity_1_1ShuffleRound.html">ShuffleRound</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Group used during this round </td></tr>
    <tr><td class="paramname">ident</td><td>the local nodes credentials </td></tr>
    <tr><td class="paramname">round_id</td><td>Unique round id (nonce) </td></tr>
    <tr><td class="paramname">network</td><td>handles message sending </td></tr>
    <tr><td class="paramname">get_data</td><td>requests data to share during this session </td></tr>
    <tr><td class="paramname">create_shuffle</td><td>optional parameter specifying a shuffle round to create, currently used for testing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4da0b114bbf6840803c74c9f9c5b2896"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a4da0b114bbf6840803c74c9f9c5b2896">Dissent::Anonymity::CSBulkRound::Derandomize</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>randomized_text</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Derandomize a message with the seed prepended. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">randomized_text</td><td>the randomized text </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2af5a7d1e455f8b6e367f10672eb2bf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a2af5a7d1e455f8b6e367f10672eb2bf2">Dissent::Anonymity::CSBulkRound::HandleDisconnect</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If the ConnectionTable has a disconnect, the round may need to react. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the peer that was disconnected </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html#a984c284a706d0cc6b9bfd648f40b25b9">Dissent::Anonymity::Round</a>.</p>

</div>
</div>
<a class="anchor" id="a0f1600c876437a05aa26a3c3bf754893"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static QString <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a0f1600c876437a05aa26a3c3bf754893">Dissent::Anonymity::CSBulkRound::MessageTypeToString</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mtype</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a MessageType into a QString. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mt</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae0cfdd65d55ebd13a93c1f85e8d621d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ae0cfdd65d55ebd13a93c1f85e8d621d6">Dissent::Anonymity::CSBulkRound::PeerJoined</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notifies this round that a peer has joined the session. </p>
<p>This will cause this type of round to finished immediately. </p>

<p>Reimplemented from <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html#a41b5c54d6f3105be8ce1967d7af92951">Dissent::Anonymity::Round</a>.</p>

</div>
</div>
<a class="anchor" id="a3c9e6d70306e220b8915f36da175c6da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a3c9e6d70306e220b8915f36da175c6da">Dissent::Anonymity::CSBulkRound::ProcessData</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/d5b/classDissent_1_1Connections_1_1Id.html">Id</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Funnels data into the <a class="el" href="../../d0/d6c/classDissent_1_1Anonymity_1_1RoundStateMachine.html" title="Used as an internal mechanism to handle state logic within a Round.">RoundStateMachine</a> for evaluation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Incoming data </td></tr>
    <tr><td class="paramname">from</td><td>the remote peer sending the data </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/d6f/classDissent_1_1Anonymity_1_1Round.html#a9d41a75b0ee0dd73462433a0a82cb270">Dissent::Anonymity::Round</a>.</p>

</div>
</div>
<a class="anchor" id="ad1f4fd6ed901923369b435bb9c13d846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ad1f4fd6ed901923369b435bb9c13d846">Dissent::Anonymity::CSBulkRound::Randomize</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Randomize a message and prepend the seed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the message to randomize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56e857ff340e6ce7000bf56956e3f0da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static QString <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a56e857ff340e6ce7000bf56956e3f0da">Dissent::Anonymity::CSBulkRound::StateToString</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a MessageType into a QString. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mt</td><td>value to convert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a899fe3b0994ff7f01c5dcd2d1f2f0516"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#a899fe3b0994ff7f01c5dcd2d1f2f0516">Dissent::Anonymity::CSBulkRound::VerifiableBroadcastToClients</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Server sends a message to all clients. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the message to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae41172fb3da7b5be64d2cb5246111a77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/dfa/classDissent_1_1Anonymity_1_1CSBulkRound.html#ae41172fb3da7b5be64d2cb5246111a77">Dissent::Anonymity::CSBulkRound::VerifiableBroadcastToServers</a> </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Server sends a message to all servers. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the message to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Anonymity/<a class="el" href="../../dd/d24/CSBulkRound_8hpp_source.html">CSBulkRound.hpp</a></li>
<li>src/Anonymity/CSBulkRound.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 18 2012 23:42:07 for Dissent by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
